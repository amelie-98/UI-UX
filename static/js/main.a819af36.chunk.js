(this["webpackJsonpui-ux"]=this["webpackJsonpui-ux"]||[]).push([[0],{162:function(e,a,t){e.exports=t(317)},167:function(e,a,t){},173:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){},193:function(e,a,t){},201:function(e,a,t){},202:function(e,a,t){},203:function(e,a,t){},204:function(e,a,t){},213:function(e,a,t){},315:function(e,a,t){},316:function(e,a,t){},317:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t.n(n),c=t(28),o=t.n(c);t(167),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(168);var i=t(40),m="SET_CURRENT_ROOM",s="SET_SHOW_INFO_ROOM",l="SET_CHANGE_THEME",u="SET_CHANGE_VIETNAM_LANGUAGE",d="SET_SEND_MESSAGE",g="SET_VALUE_MESSAGE",h="SET_SEND_GIF",p="GET_LIST_ROOM",f="SET_CURRENT_USER",E="SET_DATA_ROOM",v="SET_ALLOW_LOGIN",N="SET_STATUS_LOGIN",R="SET_STATUS_REGISTER",b=t(10),y=t.n(b),T=[],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:case h:return e;case E:a.data[0].attributes.name="Work";var t=y.a.map(a.data,(function(e){return{id:parseInt(e.id),nameRoom:e.attributes.name,type:"Work",numberNotificationUnRead:e.attributes.unread,Intro:e.attributes.description}}));return t;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return a.data;default:return e}},O=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case s:return!e;default:return e}},C=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l:return!e;default:return e}},j={InfoRoom:"Th\xf4ng Tin Ph\xf2ng",Admin:"Ng\u01b0\u1eddi Qu\u1ea3n Tr\u1ecb",Member:"Th\xe0nh Vi\xean",AddMemberToThisRoom:"Th\xeam Nh\xe2n Vi\xean V\xe0o Ph\xf2ng N\xe0y",CurrentNumberOfPeopleInTheRoom:"S\xf4\u0301 Ng\u01b0\u01a1\u0300i Hi\xea\u0323n Ta\u0323i Trong Pho\u0300ng",OnlinePeople:"S\xf4\u0301 Ng\u01b0\u01a1\u0300i Tr\u01b0\u0323c Tuy\xea\u0301n"},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;return a.type,e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u:return!e;default:return e}},k=["https://media.giphy.com/media/GAgLkuPIhozg4/giphy.gif","https://media.giphy.com/media/JRlqKEzTDKci5JPcaL/giphy.gif","https://media.giphy.com/media/3o7btXJQm5DD8ApubC/giphy.gif","https://media.giphy.com/media/3s0ddui7kadGg/giphy.gif","https://media.giphy.com/media/maINkm7zjcL4s/giphy.gif","https://media.giphy.com/media/TRdV7Bk5JVdVm/giphy.gif","https://media.giphy.com/media/8OTxSsEKzMs2A/giphy.gif","https://media.giphy.com/media/ptHRd4Rpeb11m/giphy.gif","https://media.giphy.com/media/jw99U8P9W4yOY/giphy.gif","https://media.giphy.com/media/kiOGNdQMj04SI/giphy.gif","https://media.giphy.com/media/U6IQE5XjiF5hm/giphy.gif","https://media.giphy.com/media/2y98KScHKeaQM/giphy.gif","https://media.giphy.com/media/H5AMoAO4JLPEI/giphy.gif","https://media.giphy.com/media/YHx48QSvcEFlC/giphy.gif","https://media.giphy.com/media/MlTMwvO9ZiWwU/giphy.gif","https://media.giphy.com/media/ZpRlGlevx07Mk/giphy.gif","https://media.giphy.com/media/12pwt3qlbVVBfy/giphy.gif","https://media.giphy.com/media/8Lc5xmvzRhlLy/giphy.gif","https://media.giphy.com/media/pIcez8CpT4ali/giphy.gif","https://media.giphy.com/media/DoHRW685Y1gru/giphy.gif","https://media.giphy.com/media/10Q2IMOHo3taQU/giphy.gif","https://media.giphy.com/media/4NuAILyDbmD16/giphy.gif","https://media.giphy.com/media/t5Ml3rCGNEddm/giphy.gif","https://media.giphy.com/media/RneIcLEosVuta/giphy.gif","https://media.giphy.com/media/F6132ctb9YARa/giphy.gif","https://media.giphy.com/media/Yv6RcuiyHYmn6/giphy.gif","https://media.giphy.com/media/lmFm5QZMzdmQ8/giphy.gif","https://media.giphy.com/media/13Q1xpydjvb8qs/giphy.gif"],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;return a.type,e},A="\ud83d\ude00\ud83d\ude03\ud83d\ude04\ud83d\ude01\ud83d\ude06\ud83d\ude02\ud83e\udd23\ud83d\ude0a\ud83d\ude07\ud83d\ude42\ud83d\ude43\ud83d\ude09\ud83d\ude0c\ud83d\ude0d\ud83e\udd70\ud83d\ude18\ud83d\ude17\ud83d\ude19\ud83d\ude1a\ud83d\ude0b\ud83d\ude1b\ud83d\ude1d\ud83d\ude1c\ud83e\udd2a\ud83e\udd28\ud83e\uddd0\ud83e\udd13\ud83d\ude0e\ud83e\udd29\ud83e\udd73\ud83d\ude0f\ud83d\ude12\ud83d\ude1e\ud83d\ude2b\ud83d\ude29\ud83e\udd7a\ud83d\ude22\ud83d\ude2d\ud83d\ude24\ud83d\ude20\ud83d\ude21\ud83e\udd2c\ud83e\udd2f\ud83d\udc36\ud83d\udc31\ud83d\udc2d\ud83d\udc39\ud83d\udc30\ud83e\udd8a\ud83d\udc3b\ud83d\udc3c\ud83d\udc28\ud83d\udc2f\ud83e\udd81\ud83d\udc2e\ud83d\udc2e\ud83d\udc37\ud83d\udc3d\ud83d\udc38\ud83d\udc35\ud83d\ude48\ud83d\ude49\ud83d\ude4a\ud83d\udc12\ud83d\udc14\ud83d\udc27\ud83d\udc26\ud83d\udc24\ud83d\udc23\ud83d\udc25\ud83d\udc19\ud83e\udd95\ud83e\udd8e\ud83d\udc0d\ud83d\udc22\ud83d\udc0c\ud83d\udc1d\ud83c\udf11\ud83c\udf18\ud83c\udf18\ud83c\udf17\ud83c\udf17\u26bd\ud83c\udfc0\ud83c\udfc8\u26be\ud83e\udd4e\ud83c\udfbe\ud83c\udfd0\ud83c\udfc9\ud83e\udd4f\ud83c\udfb1\ud83c\udfd3\ud83c\udff8\ud83c\udfd2\ud83c\udfd1\ud83e\udd4d\ud83c\udfcf\ud83e\udd45\u26f3",V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;return a.type,e},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return a.data;default:return e}},_=[],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p:return a.data.data;default:return e}},F={},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return a.data;default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return a.data;default:return e}},H=[],B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return a.data;default:return e}},W=[],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case R:return a.data;default:return e}},Q=Object(i.c)({dataRoom:L,currentRoom:I,showInfoRoom:O,changeTheme:C,dataVietNamLanguage:w,changeVietNamLanguage:S,arrGif:M,Emoji:V,valueMessage:U,listRoom:P,currentUser:x,allowLogin:G,statusLogin:B,statusRegister:D}),z=t(12),J=t(146),K=t(72),q=t(37),Y=(t(173),t(55)),Z=t.n(Y);function X(e,a,t){return Z()({method:a,url:e,data:t})}var $=function(e){return{type:R,data:e}},ee=function(e){return{type:N,data:e}},ae=function(e){return{type:v,data:e}},te=function(e){return{type:E,data:e}},ne=function(e){return{type:f,data:e}};var re=Object(z.b)((function(e){return{allowLogin:e.allowLogin,statusLogin:e.statusLogin,statusRegister:e.statusRegister}}),(function(e){return{login:function(a,t,n){e(function(e){var a={user:{email:e.userName,password:e.passWord,remember_me:e.checkRememberMe}};return function(e){X("http://192.168.1.189:3000/api/login","post",a).then((function(a){e(ne(a.data.data))})).then((function(a){e(ae(!0))})).catch((function(a){console.log(a.response.data.errors),e(ae(!1)),e(ee(a.response.data.errors))}))}}({userName:a,passWord:t,checkRememberMe:n}))},setAllowLogin:function(){e(ae(!1))},register:function(a,t,n,r){e(function(e){var a={user:{name:e.name,email:e.mail,password:e.pass,password_confirmation:e.repeatPass}};return function(e){X("http://192.168.1.189:3000/api/signup","post",a).catch((function(a){console.log(a.response.data),e($(a.response.data.errors))}))}}({name:a,mail:t,pass:n,repeatPass:r}))},setStatusLogin:function(){e(ee([]))},setStatusRegister:function(){e($([]))}}}))((function(e){var a=Object(q.f)();!0===e.allowLogin&&(e.setAllowLogin(),a.push("/App"));var t=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useRef)(),i=Object(n.useRef)(),m=Object(n.useRef)(),s=Object(n.useRef)(),l=Object(n.useRef)();return 0!==e.statusLogin.length&&(alert(e.statusLogin.join("\n")),e.setStatusLogin()),0!==e.statusRegister.length&&(alert(e.statusRegister.join("\n")),e.setStatusRegister()),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"login-wrap"},r.a.createElement("div",{className:"login-html"},r.a.createElement("input",{id:"tab-1",type:"radio",name:"tab",className:"sign-in height",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"tab-1",className:"tab"},"Sign In"),r.a.createElement("input",{id:"tab-2",type:"radio",name:"tab",className:"sign-up height"}),r.a.createElement("label",{htmlFor:"tab-2",className:"tab"},"Sign Up"),r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"sign-in-htm"},r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"user",className:"label"},"Username"),r.a.createElement("input",{id:"user",type:"text",className:"input height",ref:t})),r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"pass",className:"label"},"Password"),r.a.createElement("input",{id:"pass",type:"password",className:"input height","data-type":"password",ref:c})),r.a.createElement("div",{className:"group"},r.a.createElement("input",{id:"check",type:"checkbox",className:"check height",defaultChecked:!0,ref:o}),r.a.createElement("label",{htmlFor:"check"},r.a.createElement("span",{className:"icon"})," Keep me Signed in")),r.a.createElement("div",{className:"group"},r.a.createElement("input",{type:"submit",className:"button height",value:"SIGN IN",onClick:function(){e.login(t.current.value,c.current.value,o.current.checked)}})),r.a.createElement("div",{className:"hr"}),r.a.createElement("div",{className:"foot-lnk"},r.a.createElement("a",{href:"#forgot"},"Forgot Password?"))),r.a.createElement("div",{className:"sign-up-htm"},r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"user",className:"label"},"Username"),r.a.createElement("input",{id:"user",type:"text",className:"input height",ref:i})),r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"pass",className:"label"},"Email Address"),r.a.createElement("input",{id:"pass",type:"text",className:"input height",ref:m})),r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"pass",className:"label"},"Password"),r.a.createElement("input",{id:"pass",type:"password",className:"input height","data-type":"password",ref:s})),r.a.createElement("div",{className:"group"},r.a.createElement("label",{htmlFor:"pass",className:"label"},"Repeat Password"),r.a.createElement("input",{id:"pass",type:"password",className:"input height","data-type":"password",ref:l})),r.a.createElement("div",{className:"group"},r.a.createElement("input",{type:"submit",className:"button height",value:"SIGN UP",onClick:function(){e.register(i.current.value,m.current.value,s.current.value,l.current.value)}})),r.a.createElement("div",{className:"hr"}),r.a.createElement("div",{className:"foot-lnk"},r.a.createElement("label",{htmlFor:"tab-1"},"Already Member?")))))))})),ce=(t(191),t(16)),oe=(t(192),t(42)),ie=t(35),me=t(96),se=t(5),le=t.n(se),ue=t(334),de=t(322),ge=t(323),he=(t(193),Object(z.b)((function(e){return{changeTheme:e.changeTheme,dataVietNamLanguage:e.dataVietNamLanguage,changeVietNamLanguage:e.changeVietNamLanguage}}))((function(e){var a=e.className,t=Object(n.useState)(!1),c=Object(ce.a)(t,2),o=c[0],i=c[1],m=function(){return i(!o)},s=e.changeTheme;return r.a.createElement("div",{className:"Model-AddMember"},r.a.createElement(oe.c,{onClick:m,className:le()("Icon-AddMember",{IconAddMemberLightTheme:!0===s})}),r.a.createElement(ue.a,{isOpen:o,toggle:m,className:a},r.a.createElement(de.a,{toggle:m},e.changeVietNamLanguage?r.a.createElement("p",null,"Add Member To This Room"):r.a.createElement("p",null,e.dataVietNamLanguage.AddMemberToThisRoom)),r.a.createElement(ge.a,{className:"ModalBody"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"search-icon"},r.a.createElement("input",{className:le()("search-circle",{SearchCircleLightTheme:!0===s}),type:"text"}),r.a.createElement("div",{className:"search-bar"}))))))})));var pe=Object(z.b)((function(e){return{dataRoom:e.dataRoom,changeTheme:e.changeTheme,listRoom:e.listRoom,currentRoom:e.currentRoom,currentUser:e.currentUser}}),(function(e){return{setCurrentRoom:function(a){e(function(e){return{type:m,data:e}}(a))}}}))((function(e){var a=Object(q.f)(),t=Object(n.useState)(-1),c=Object(ce.a)(t,2),o=c[0],i=c[1],m=Object(n.useState)(-1),s=Object(ce.a)(m,2),l=s[0],u=s[1],d=Object(n.useState)(""),g=Object(ce.a)(d,2),h=g[0],p=g[1],f=y.a.filter(y.a.map(e.dataRoom,(function(e){return{nameRoom:e.nameRoom,type:e.type,numberNotificationUnRead:e.numberNotificationUnRead,id:e.id}})),(function(e){return y.a.includes(e.nameRoom.toLowerCase(),h.toLowerCase())})),E=e.changeTheme;return r.a.createElement("div",{className:le()("ListRoom",{ListRoomLightTheme:!0===E})},r.a.createElement("div",{className:le()("Header-ListRoom",{HeaderListRoomLightTheme:!0===E})},r.a.createElement("div",null,r.a.createElement("div",{className:"Top-Header-ListRoom"},r.a.createElement("h4",null,"ddtsoft")),r.a.createElement("div",{className:"Bot-Header-ListRoom"},r.a.createElement(ie.a,{className:"Icon-Circle"}),r.a.createElement("h6",null,e.currentUser.attributes.name))),r.a.createElement("div",{className:"LogOut",onClick:function(){a.goBack(),e.setCurrentRoom(-1)}},"Log-Out")),r.a.createElement("div",{className:"Body-ListRoom"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"search-icon"},r.a.createElement("input",{className:le()("search-circle",{SearchCircleLightTheme:!0===E}),type:"text",onChange:function(e){p(e.target.value)}}),r.a.createElement("div",{className:"search-bar"}))),r.a.createElement("div",{className:"Show-ListRoom"},y.a.map(f,(function(a,t){return r.a.createElement("div",{className:le()("Room",{RoomSelected:l===a.id,RemoveHover:o===a.id}),key:t,onClick:function(){return t=a.id,u(t),void e.setCurrentRoom(t);var t},onMouseDown:function(){return i(a.id)}},r.a.createElement("div",{className:le()("Icon-And-NameRoom",{IconAndNameRoomLightTheme:!0===E})},"Work"===a.type?r.a.createElement(oe.d,{className:"Icon-Left"}):"Shopping"===a.type?r.a.createElement(me.a,{className:"Icon-Left"}):"Party"===a.type?r.a.createElement(me.b,null):null,r.a.createElement("div",{className:"NameRoom"},a.nameRoom)),r.a.createElement("div",{className:le()("AddMember-And-NotificationUnRead",{MoveToCenter:l===a.id||0===a.numberNotificationUnRead})},r.a.createElement(he,null),r.a.createElement("div",{className:le()("NotificationUnRead",{NotificationRead:l===a.id,HideNotificationRead:0===a.numberNotificationUnRead})},a.numberNotificationUnRead)))})))))})),fe=t(99);t(201),t(202);var Ee=Object(z.b)((function(e){return{dataRoom:e.dataRoom,changeTheme:e.changeTheme}}),(function(e){return{setChangeTheme:function(){e({type:l})}}}))((function(e){return r.a.createElement("div",{className:"toggleWrapper"},r.a.createElement("input",{type:"checkbox",className:"dn",id:"dn",onChange:function(){e.setChangeTheme()}}),r.a.createElement("label",{for:"dn",className:"toggle"},r.a.createElement("span",{className:"toggle__handler"},r.a.createElement("span",{className:"crater crater--1"}),r.a.createElement("span",{className:"crater crater--2"}),r.a.createElement("span",{className:"crater crater--3"})),r.a.createElement("span",{className:"star star--1"}),r.a.createElement("span",{className:"star star--2"}),r.a.createElement("span",{className:"star star--3"}),r.a.createElement("span",{className:"star star--4"}),r.a.createElement("span",{className:"star star--5"}),r.a.createElement("span",{className:"star star--6"})))})),ve=(t(203),Object(z.b)((function(e){return{changeTheme:e.changeTheme,dataVietNamLanguage:e.dataVietNamLanguage,changeVietNamLanguage:e.changeVietNamLanguage}}),(function(e){return{setChangeVietNamLanguage:function(){e({type:u})}}}))((function(e){return r.a.createElement("div",{className:"SwitchLanguage"},r.a.createElement("label",{className:"rocker rocker-small"},r.a.createElement("input",{type:"checkbox",onClick:function(){e.setChangeVietNamLanguage()}}),r.a.createElement("span",{className:"switch-left"},"En"),r.a.createElement("span",{className:"switch-right"},"Vi")))}))),Ne=t(333),Re=t(324),be=t(325),ye=t(326),Te=(t(204),Object(z.b)((function(e){return{Emoji:e.Emoji,changeTheme:e.changeTheme}}))((function(e){return r.a.createElement("div",{className:"IconPopover"},r.a.createElement("div",{id:"PopoverLegacy1"},r.a.createElement(ie.d,null)),r.a.createElement(Ne.a,{className:"All-Popover",trigger:"legacy",placement:"top-end",target:"PopoverLegacy1",hideArrow:!0},r.a.createElement(Re.a,{id:"scroll-body-icon",className:le()("PopoverBody",{PopoverBodyLightTheme:!0===e.changeTheme})},r.a.createElement(be.a,null,y.a.map(Array.from(e.Emoji),(function(a,t){return r.a.createElement(ye.a,{sm:"2",key:t},r.a.createElement("p",{className:"p-icon",onClick:function(){return function(a){e.addEmoji(a)}(a)}},a))}))))))}))),Le=t(148),Ie=t(149),Oe=t.n(Ie),Ce=t(150),je=t.n(Ce),we=t(151),Se=t.n(we),ke=t(327),Me=(t(213),t(332)),Ae=Object(z.b)((function(e){return{dataRoom:e.dataRoom,currentRoom:e.currentRoom,changeTheme:e.changeTheme}}))((function(e){var a=e.changeTheme,t=["cyan","navy"];return!1===a&&(t=["green","red"]),r.a.createElement("div",{className:"PieChart"},r.a.createElement(ie.c,{id:"PopoverLegacy"}),r.a.createElement(Ne.a,{trigger:"legacy",placement:"bottom",target:"PopoverLegacy"},r.a.createElement(ke.a,{className:le()("Header-Chart",{HeaderChartBodyLightTheme:!1===a})},"Chart"),r.a.createElement(Re.a,null,-1!==e.currentRoom?r.a.createElement("div",{className:le()("PieChart-Body",{PieChartBodyLightTheme:!1===a})},r.a.createElement(Me.a,{colorScale:t,innerRadius:100,labels:function(){},data:[{x:"Online",y:1},{x:"Offline",y:y.a.uniqBy(y.a.find(e.dataRoom,{id:e.currentRoom}).data,"name").length-1}]}),r.a.createElement("div",{className:"Info-Chart"},r.a.createElement("div",{className:"Online"},r.a.createElement("div",{style:{background:t[0]},className:"circle-div"}),r.a.createElement("div",{className:le()("state-number",{StateNumberBodyLightTheme:!1===a})},r.a.createElement("p",null,"Online:"),r.a.createElement("p",null,"1"))),r.a.createElement("div",{className:"Offline"},r.a.createElement("div",{style:{background:t[1]},className:"circle-div"}),r.a.createElement("div",{className:le()("state-number",{StateNumberBodyLightTheme:!1===a})},r.a.createElement("p",null,"Offline:"),r.a.createElement("p",null,y.a.uniqBy(y.a.find(e.dataRoom,{id:e.currentRoom}).data,"name").length-1))))):null)))})),Ve=t(328),Ue=t(158),_e=t.n(Ue);var Pe=Object(z.b)((function(e){return{dataRoom:e.dataRoom,currentRoom:e.currentRoom,showInfoRoom:e.showInfoRoom,changeTheme:e.changeTheme,arrGif:e.arrGif,valueMessage:e.valueMessage,dataVietNamLanguage:e.dataVietNamLanguage,changeVietNamLanguage:e.changeVietNamLanguage,currentUser:e.currentUser}}),(function(e){return{setShowInfoRoom:function(){e({type:s})},setSendMessage:function(a,t){e({type:d,data:{nameRoom:a,message:t}})},setValueMessage:function(a){e(function(e){return{type:g,data:e}}(a))},setSendGif:function(a,t){e({type:h,data:{nameRoom:a,gif:t}})}}}))((function(e){var a=Object(n.useState)(!1),t=Object(ce.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)({}),m=Object(ce.a)(i,2),s=m[0],l=(m[1],Object(n.useState)([])),u=Object(ce.a)(l,2),d=u[0],g=u[1];console.log("ngoai",d),-1!==e.currentRoom&&0===d.length&&(s.cable=_e.a.createConsumer("http://192.168.1.189:3000/cable?token=".concat(e.currentUser.attributes.authToken,"&room_id=").concat(e.currentRoom)),s.channel=s.cable.subscriptions.create({channel:"MessagesChannel"},{connected:function(){0===d.length&&s.channel.getInitialMessages()},received:function(e){if("receive"===e.type||"receive_latest"===e.type){var a=y.a.map(e.messages.data,(function(a){return{id:parseInt(a.id),attributes:a.attributes,relationships:{room:a.relationships.room,user:{data:{id:parseInt(a.relationships.user.data.id),type:a.relationships.user.data.type,name:y.a.find(e.messages.included,{id:"".concat(a.relationships.user.data.id)}).attributes.name}}},type:a.type}})),t=[].concat(Object(fe.a)(d),Object(fe.a)(a));g(t)}},getInitialMessages:function(){return s.channel.perform("receive_latest",{total_messages:20})}}));var h=Object(n.useState)(!1),p=Object(ce.a)(h,2),f=p[0],E=p[1],v=function(){E(!f)},N=e.valueMessage,R=Object(n.useRef)(),b=Object(n.useRef)(),T=Object(n.useState)(!1),L=Object(ce.a)(T,2),I=L[0],O=L[1],C=Object(n.useState)(!1),j=Object(ce.a)(C,2),w=j[0],S=j[1],k=function e(a){var t=a.target;R.current.contains(t)||(O(!1),document.removeEventListener("click",e))};Object(n.useEffect)((function(){return document.addEventListener("keydown",M),function(){document.removeEventListener("keydown",M)}})),Object(n.useEffect)((function(){-1!==e.currentRoom&&(!0===c&&s.channel.unsubscribe(),o(!0),g([]))}),[e.currentRoom]);var M=function(a){13!==a.keyCode||a.shiftKey||""===N.trim()||!0!==I||-1===e.currentRoom||(e.setSendMessage(e.currentRoom,N),e.setValueMessage(""),b.current.scrollTop=b.current.scrollHeight),e.setValueMessage("")},A=e.changeTheme;return r.a.createElement("div",{className:le()("ContentRoom",{ContentRoomLightTheme:!0===A,MaxWidth:!1===e.showInfoRoom})},r.a.createElement("div",{className:"Header-ContentRoom"},r.a.createElement("p",{className:"Name-Room"},"# ",-1!==e.currentRoom?y.a.find(e.dataRoom,{id:e.currentRoom}).nameRoom:null),r.a.createElement(Ae,null),r.a.createElement("div",{className:"Icon-Header-ContentRoom"},r.a.createElement(ve,null),r.a.createElement("div",{className:"Switch-Day-Night"},r.a.createElement(Ee,null)),r.a.createElement(oe.b,{className:le()("MdPeople",{MdPeopleLightTheme:!0===A,LightThisIcon:!0===e.showInfoRoom,MdPeopleLightThemeLightThisIcon:!0===A&&!0===e.showInfoRoom}),onClick:function(){e.setShowInfoRoom()}}))),r.a.createElement("div",{className:le()("main-room",{MainRoomLightTheme:!0===A}),id:"scrollbar-style",ref:b},-1!==e.currentRoom?y.a.map(y.a.find(e.dataRoom,{id:e.currentRoom}).data,(function(e,a){return r.a.createElement("div",{className:"Chat-Message",key:a},r.a.createElement("div",{className:le()("Custom-Container",{CustomContainerLightTheme:!0===A})},r.a.createElement("img",{src:e.avatar,alt:"Img-User",href:"#",id:"TooltipExample"}),r.a.createElement(Ve.a,{className:"Tooltip",placement:"right",isOpen:f,target:"TooltipExample",toggle:v},r.a.createElement("div",{className:"Info-User-On-Chat"})),r.a.createElement("div",{className:le()("Name-Time-Message",{NameTimeMessageLightTheme:!0===A})},r.a.createElement("div",{className:"Name-Time"},r.a.createElement("p",{className:"Name"},e.name),r.a.createElement("p",{className:"Time"},e.time)),void 0!==e.message?r.a.createElement("div",{className:"Show-Message",dangerouslySetInnerHTML:{__html:Se()(je()(e.message))}}):r.a.createElement("img",{src:e.gif,alt:"gif"}))))})):null),r.a.createElement("div",{className:le()("Footer-ContentRoom",{FooterContentRoomLightTheme:!0===A})},r.a.createElement("div",{className:le()("Message",{ClickMessage:!0===I,MessageLightTheme:!0===A,ClickMessageMessageLightTheme:!0===I&&!0===A})},r.a.createElement(ie.b,{className:le()("Footer-Icon",{ClickIcon:!0===I,FooterIconLightTheme:!0===A,ClickIconFooterIconLightTheme:!0===I&&!0===A})}),r.a.createElement("textarea",{className:"Footer-Input",type:"textarea",ref:R,onClick:function(){O(!0),document.addEventListener("click",k)},onChange:function(a){e.setValueMessage(a.target.value)},value:N}),r.a.createElement("div",{className:"Footer-Icon-Right"},r.a.createElement(oe.a,{className:le()("Footer-Icon Gif-Icon",{ClickIcon:!0===I,FooterIconLightTheme:!0===A,ClickIconFooterIconLightTheme:!0===I&&!0===A}),onClick:function(){return S(!w)}}),r.a.createElement("div",{className:le()("Footer-Icon Icon-Popover",{ClickIcon:!0===I,FooterIconLightTheme:!0===A,ClickIconFooterIconLightTheme:!0===I&&!0===A})},r.a.createElement(Te,{addEmoji:function(a){e.setValueMessage("".concat(N).concat(a))}})))),r.a.createElement("div",{className:le()("test",{testLightTheme:!0===A,ShowGif:!0===w}),id:"test-scrollbar-style"},r.a.createElement(Oe.a,{breakpointCols:5,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},y.a.map(e.arrGif,(function(a,t){return r.a.createElement("div",{className:"div-gif",key:t},r.a.createElement("img",{className:"img-gif",src:a,alt:"gif",onClick:function(){return function(a){e.setSendGif(e.currentRoom,a),S(!w),Object(Le.nextTick)((function(){b.current.scrollTop=b.current.scrollHeight}))}(a)}}))}))))))})),Fe=(t(315),t(329)),xe=t(330),Ge=t(331),He=(t(316),Object(z.b)((function(e){return{dataRoom:e.dataRoom,currentRoom:e.currentRoom,changeTheme:e.changeTheme,dataVietNamLanguage:e.dataVietNamLanguage,changeVietNamLanguage:e.changeVietNamLanguage}}))((function(e){var a=Object(n.useState)(!1),t=Object(ce.a)(a,2),c=t[0],o=t[1],i=e.changeTheme;return r.a.createElement("div",null,r.a.createElement("div",{className:"IntroRoom",onClick:function(){return o(!c)}},e.changeVietNamLanguage?r.a.createElement("p",null,"Info Room"):r.a.createElement("p",null,e.dataVietNamLanguage.InfoRoom)),r.a.createElement(Fe.a,{isOpen:c},r.a.createElement(xe.a,null,r.a.createElement(Ge.a,{className:le()("Body-IntroRoom",{BodyIntroRoomLightTheme:!1===i})},-1!==e.currentRoom?y.a.find(e.dataRoom,{id:e.currentRoom}).Intro:null))))})));var Be=Object(z.b)((function(e){return{dataRoom:e.dataRoom,currentRoom:e.currentRoom,showInfoRoom:e.showInfoRoom,changeTheme:e.changeTheme,dataVietNamLanguage:e.dataVietNamLanguage,changeVietNamLanguage:e.changeVietNamLanguage}}))((function(e){var a,t=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useState)(-1),i=Object(ce.a)(o,2),m=i[0],s=i[1],l=Object(n.useState)({}),u=Object(ce.a)(l,2),d=u[0],g=u[1];-1===e.currentRoom&&(a=[]),-1!==e.currentRoom&&(a=y.a.uniqBy(y.a.map(y.a.find(e.dataRoom,{id:e.currentRoom}).data,(function(e){return{avatar:e.avatar,name:e.name,level:e.level}})),"name"));var h=e.changeTheme,p=function(e,a){return s(a),document.addEventListener("click",f),window.innerHeight-e.target.offsetTop-t.current.scrollTop<0?g({position:"absolute",top:e.target.offsetTop-t.current.scrollTop-250}):e.target.offsetTop-t.current.scrollTop>250?g({position:"absolute",top:e.target.offsetTop-t.current.scrollTop-200}):g({position:"absolute",top:e.target.offsetTop-t.current.scrollTop})},f=function e(a){var n=a.target;t.current.contains(n)||(s(-1),document.removeEventListener("click",e))};return r.a.createElement("div",{className:le()("InfoRoom",{HideThisDiv:!1===e.showInfoRoom,InfoRoomLightTheme:!0===h})},r.a.createElement("div",{className:"Header-InfoRoom"},r.a.createElement(He,null)),r.a.createElement("div",{ref:t,className:le()("Body-InfoRoom",{BodyInfoRoomLightTheme:!0===h}),id:"scrollbar"},r.a.createElement("div",{className:"Admin"},r.a.createElement("div",{className:"Title-InfoRoom"},r.a.createElement("p",{className:"Title-InfoRoom-Admin"},e.changeVietNamLanguage?r.a.createElement("p",null,"Admin"):r.a.createElement("p",null,e.dataVietNamLanguage.Admin))),0!==a.length?r.a.createElement("div",{className:"User-InfoRoom"},r.a.createElement("div",{className:"Avatar-InfoRoom",ref:c},r.a.createElement("img",{src:y.a.filter(a,{level:"Admin"})[0].avatar,alt:"Img-User",onClick:function(e){return p(e,99999)}})),r.a.createElement("div",{className:"Name-User-InfoRoom"},r.a.createElement("p",null,y.a.filter(a,{level:"Admin"})[0].name)),r.a.createElement("div",{className:le()("AhihiTest",{addZindexCss:99999===m}),style:d},r.a.createElement("div",{className:"Top"},r.a.createElement("img",{src:y.a.filter(a,{level:"Admin"})[0].avatar,alt:"Img-User"}),r.a.createElement("div",{className:"name-show-info"},r.a.createElement("p",null,y.a.filter(a,{level:"Admin"})[0].name),r.a.createElement("p",{className:le()("levelAdmin",{levelAdminLightTheme:!0===h})},"Admin"))))):null),r.a.createElement("div",{className:"Admin"},r.a.createElement("div",{className:"Title-InfoRoom"},r.a.createElement("p",{className:"Title-InfoRoom-Admin"},e.changeVietNamLanguage?r.a.createElement("p",null,"Member"):r.a.createElement("p",null,e.dataVietNamLanguage.Member))),0!==a.length?r.a.createElement("div",{className:"Member"},y.a.map(y.a.filter(a,{level:"Member"}),(function(e,a){return r.a.createElement("div",{className:"User-InfoRoom",key:a},r.a.createElement("div",{className:"Avatar-InfoRoom"},r.a.createElement("img",{src:e.avatar,alt:"Img-User",onClick:function(e){return p(e,a)}})),r.a.createElement("div",{className:"Name-User-InfoRoom"},r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:le()("AhihiTest",{addZindexCss:a===m}),style:d},r.a.createElement("div",{className:"Top"},r.a.createElement("img",{src:e.avatar,alt:"Img-User"}),r.a.createElement("div",{className:"name-show-info"},r.a.createElement("p",null,e.name),r.a.createElement("p",{className:le()("levelMember",{levelMemberLightTheme:!0===h})},"Member")))))}))):null)))}));var We=Object(z.b)((function(e){return{currentUser:e.currentUser,currentRoom:e.currentRoom}}),(function(e){return{getApi:function(a){e(function(e){var a={headers:{Authorization:"Bearer "+e.attributes.authToken}};return function(e){Z.a.get("http://192.168.1.189:3000/api/joined_rooms",a).then((function(a){e(te(a.data.data))})).catch((function(e){console.log(e)}))}}(a))}}}))((function(e){return Object(n.useEffect)((function(){e.getApi(e.currentUser)}),[]),r.a.createElement("div",{className:le()("App",{BackGroundIMG:-1===e.currentRoom})},r.a.createElement(pe,null),r.a.createElement(Pe,null),r.a.createElement(Be,null))}));var De=function(e){return r.a.createElement(K.a,null,r.a.createElement("div",null,r.a.createElement(q.c,null,r.a.createElement(q.a,{exact:!0,path:"/"},r.a.createElement(re,null)),r.a.createElement(q.a,{exact:!0,path:"/App"},r.a.createElement(We,null)))))},Qe=Object(i.d)(Q,Object(i.a)(J.a));o.a.render(r.a.createElement(z.a,{store:Qe},r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[162,1,2]]]);
//# sourceMappingURL=main.a819af36.chunk.js.map